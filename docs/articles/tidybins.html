<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>tidybins • tidybins</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="tidybins">
<meta property="og:description" content="tidybins">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-Z4FGL6BTP7"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Z4FGL6BTP7');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidybins</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/tidybins.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Harrison4192/tidybins/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://harrison4192.github.io/TidyConsultant/" class="external-link">TC</a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>tidybins</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Harrison4192/tidybins/blob/HEAD/vignettes/tidybins.Rmd" class="external-link"><code>vignettes/tidybins.Rmd</code></a></small>
      <div class="hidden name"><code>tidybins.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R">

<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://harrison4192.github.io/tidybins/" class="external-link">tidybins</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="section level1">
<h1 id="bin-value">Bin Value<a class="anchor" aria-label="anchor" href="#bin-value"></a>
</h1>
<p>Binning by value is the only original binning method implemented in this package. It is inspired by the case in marketing when accounts need to be binned by their sales. For example, creating 10 bins, where each bin represent 10% of all market sales. The first bin contains the highest sales accounts, thus has the small total number of accounts, whereas the last bin contains the smallest sales accounts, thus requiring the most number of accounts per bin to reach 10% of the market sales.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>SALES <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">1000L</span>, mean <span class="op">=</span> <span class="fl">10000L</span>, sd <span class="op">=</span> <span class="fl">3000</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">sales_data</span>

<span class="va">sales_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/bin_cols.html">bin_cols</a></span><span class="op">(</span><span class="va">SALES</span>, bin_type <span class="op">=</span> <span class="st">"value"</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">sales_data1</span>
<span class="co">#&gt; Warning: SALES contains negative values. Negative values are treated as 0.</span>

<span class="va">sales_data1</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 1,000 × 2</span></span>
<span class="co">#&gt;    SALES SALES_va10</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> <span style="text-decoration: underline;">16</span>072         10</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> <span style="text-decoration: underline;">17</span>478         10</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  <span style="text-decoration: underline;">4</span>524          1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  <span style="text-decoration: underline;">2</span>523          1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  <span style="text-decoration: underline;">4</span>467          1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  <span style="text-decoration: underline;">7</span>426          2</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  <span style="text-decoration: underline;">7</span>653          2</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> <span style="text-decoration: underline;">10</span>771          5</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> <span style="text-decoration: underline;">10</span>724          5</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> <span style="text-decoration: underline;">12</span>749          8</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 990 more rows</span></span></code></pre></div>
<p>Notice that the sum is equal across bins.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sales_data1</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/bin_summary.html">bin_summary</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span>width <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 11 × 14</span></span>
<span class="co">#&gt;    column method      n_bins .rank  .min  .mean  .max .count .uniques</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> SALES  equal value     10    10 <span style="text-decoration: underline;">14</span>829 <span style="text-decoration: underline;">16</span>070. <span style="text-decoration: underline;">18</span>783     62       61</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> SALES  equal value     10     9 <span style="text-decoration: underline;">13</span>198 <span style="text-decoration: underline;">13</span>912. <span style="text-decoration: underline;">14</span>825     72       70</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> SALES  equal value     10     8 <span style="text-decoration: underline;">12</span>284 <span style="text-decoration: underline;">12</span>709. <span style="text-decoration: underline;">13</span>125     78       75</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> SALES  equal value     10     7 <span style="text-decoration: underline;">11</span>587 <span style="text-decoration: underline;">11</span>926. <span style="text-decoration: underline;">12</span>238     83       79</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> SALES  equal value     10     6 <span style="text-decoration: underline;">10</span>974 <span style="text-decoration: underline;">11</span>295. <span style="text-decoration: underline;">11</span>576     88       82</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> SALES  equal value     10     5 <span style="text-decoration: underline;">10</span>143 <span style="text-decoration: underline;">10</span>515. <span style="text-decoration: underline;">10</span>964     94       90</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> SALES  equal value     10     4  <span style="text-decoration: underline;">9</span>402  <span style="text-decoration: underline;">9</span>763. <span style="text-decoration: underline;">10</span>141    102       94</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> SALES  equal value     10     3  <span style="text-decoration: underline;">8</span>287  <span style="text-decoration: underline;">8</span>868.  <span style="text-decoration: underline;">9</span>399    112      107</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> SALES  equal value     10     2  <span style="text-decoration: underline;">7</span>197  <span style="text-decoration: underline;">7</span>753.  <span style="text-decoration: underline;">8</span>286    128      114</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> SALES  equal value     10     1   318  <span style="text-decoration: underline;">5</span>487.  <span style="text-decoration: underline;">7</span>196    180      171</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">11</span> SALES  equal value     10     0  -<span style="color: #BB0000;">404</span>  -<span style="color: #BB0000;">404</span>   -<span style="color: #BB0000;">404</span>      1        1</span>
<span class="co">#&gt;    relative_value    .sum   .med   .sd width</span>
<span class="co">#&gt;             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>         100     <span style="text-decoration: underline;">996</span>338 <span style="text-decoration: underline;">15</span>701  <span style="text-decoration: underline;">1</span>033.  <span style="text-decoration: underline;">3</span>954</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>          86.6  1<span style="text-decoration: underline;">001</span>645 <span style="text-decoration: underline;">13</span>858.  455.  <span style="text-decoration: underline;">1</span>627</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>          79.1   <span style="text-decoration: underline;">991</span>297 <span style="text-decoration: underline;">12</span>682   256.   841</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>          74.2   <span style="text-decoration: underline;">989</span>859 <span style="text-decoration: underline;">11</span>979   199.   651</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>          70.3   <span style="text-decoration: underline;">993</span>979 <span style="text-decoration: underline;">11</span>306.  172.   602</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>          65.4   <span style="text-decoration: underline;">988</span>382 <span style="text-decoration: underline;">10</span>530.  225.   821</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>          60.8   <span style="text-decoration: underline;">995</span>860  <span style="text-decoration: underline;">9</span>774.  219.   739</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>          55.2   <span style="text-decoration: underline;">993</span>266  <span style="text-decoration: underline;">8</span>896.  330.  <span style="text-decoration: underline;">1</span>112</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>          48.2   <span style="text-decoration: underline;">992</span>413  <span style="text-decoration: underline;">7</span>778.  304.  <span style="text-decoration: underline;">1</span>089</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span>          34.1   <span style="text-decoration: underline;">987</span>684  <span style="text-decoration: underline;">5</span>878. <span style="text-decoration: underline;">1</span>421.  <span style="text-decoration: underline;">6</span>878</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">11</span>          -<span style="color: #BB0000;">2.51</span>    -<span style="color: #BB0000;">404</span>  -<span style="color: #BB0000;">404</span>    <span style="color: #BB0000;">NA</span>      0</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Harrison Tietze.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.9000.9000.9000.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
