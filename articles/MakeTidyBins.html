<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MakeTidyBins • tidybins</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="MakeTidyBins">
<meta property="og:description" content="tidybins">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-Z4FGL6BTP7"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Z4FGL6BTP7');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidybins</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Harrison4192/tidybins/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://harrison4192.github.io/TidyConsultant/">TC</a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="MakeTidyBins_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>MakeTidyBins</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Harrison4192/tidybins/blob/master/vignettes/MakeTidyBins.Rmd"><code>vignettes/MakeTidyBins.Rmd</code></a></small>
      <div class="hidden name"><code>MakeTidyBins.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R">

<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Harrison4192/tidybins">tidybins</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/message.html">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div id="bin-value" class="section level1">
<h1 class="hasAnchor">
<a href="#bin-value" class="anchor"></a>Bin Value</h1>
<p>Binning by value is the only original binning method implemented in this package. It is inspired by the case in marketing when accounts need to be binned by their sales. For example, creating 10 bins, where each bin represent 10% of all market sales. The first bin contains the highest sales accounts, thus has the small total number of accounts, whereas the last bin contains the smallest sales accounts, thus requiring the most number of accounts per bin to reach 10% of the market sales.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>SALES <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">1000L</span>, mean <span class="op">=</span> <span class="fl">10000L</span>, sd <span class="op">=</span> <span class="fl">3000</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">sales_data</span>

<span class="va">sales_data</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/bin_cols.html">bin_cols</a></span><span class="op">(</span><span class="va">SALES</span>, bin_type <span class="op">=</span> <span class="st">"value"</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">sales_data1</span>
<span class="co">#&gt; Warning: SALES contains negative values. Negative values are treated as 0.</span>

<span class="va">sales_data1</span>
<span class="co">#&gt; # A tibble: 1,000 × 2</span>
<span class="co">#&gt;    SALES SALES_va10</span>
<span class="co">#&gt;    &lt;int&gt;      &lt;int&gt;</span>
<span class="co">#&gt;  1  8866          3</span>
<span class="co">#&gt;  2 15480         10</span>
<span class="co">#&gt;  3 12049          7</span>
<span class="co">#&gt;  4  6207          1</span>
<span class="co">#&gt;  5  9277          3</span>
<span class="co">#&gt;  6  8096          2</span>
<span class="co">#&gt;  7  6907          1</span>
<span class="co">#&gt;  8  9205          3</span>
<span class="co">#&gt;  9 11177          6</span>
<span class="co">#&gt; 10 13101          8</span>
<span class="co">#&gt; # … with 990 more rows</span></code></pre></div>
<p>Notice that the sum is equal across bins.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sales_data1</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/bin_summary.html">bin_summary</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span>width <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 11 × 14</span>
<span class="co">#&gt;    column method      n_bins .rank  .min  .mean  .max .count .uniques</span>
<span class="co">#&gt;    &lt;chr&gt;  &lt;chr&gt;        &lt;int&gt; &lt;int&gt; &lt;int&gt;  &lt;dbl&gt; &lt;int&gt;  &lt;int&gt;    &lt;int&gt;</span>
<span class="co">#&gt;  1 SALES  equal value     10    10 14550 15870. 20752     64       62</span>
<span class="co">#&gt;  2 SALES  equal value     10     9 13448 13974. 14537     72       71</span>
<span class="co">#&gt;  3 SALES  equal value     10     8 12464 12959. 13429     78       75</span>
<span class="co">#&gt;  4 SALES  equal value     10     7 11595 11999. 12449     84       82</span>
<span class="co">#&gt;  5 SALES  equal value     10     6 10949 11262. 11590     89       83</span>
<span class="co">#&gt;  6 SALES  equal value     10     5 10415 10692. 10942     94       83</span>
<span class="co">#&gt;  7 SALES  equal value     10     4  9509  9962. 10410    101       98</span>
<span class="co">#&gt;  8 SALES  equal value     10     3  8652  9072.  9507    111      105</span>
<span class="co">#&gt;  9 SALES  equal value     10     2  7246  8009.  8641    126      124</span>
<span class="co">#&gt; 10 SALES  equal value     10     1   579  5576.  7244    180      176</span>
<span class="co">#&gt; 11 SALES  equal value     10     0  -789  -789   -789      1        1</span>
<span class="co">#&gt;    relative_value    .sum   .med   .sd width</span>
<span class="co">#&gt;             &lt;dbl&gt;   &lt;int&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;</span>
<span class="co">#&gt;  1         100    1015710 15523  1118.  6202</span>
<span class="co">#&gt;  2          88.0  1006093 13960   330.  1089</span>
<span class="co">#&gt;  3          81.7  1010816 12970   288.   965</span>
<span class="co">#&gt;  4          75.6  1007921 12032.  246.   854</span>
<span class="co">#&gt;  5          71.0  1002310 11249   174.   641</span>
<span class="co">#&gt;  6          67.4  1005070 10693   156.   527</span>
<span class="co">#&gt;  7          62.8  1006181  9967   246.   901</span>
<span class="co">#&gt;  8          57.2  1006946  9107   248.   855</span>
<span class="co">#&gt;  9          50.5  1009184  8016   418.  1395</span>
<span class="co">#&gt; 10          35.1  1003655  5948. 1357.  6665</span>
<span class="co">#&gt; 11          -4.97    -789  -789    NA      0</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Harrison Tietze.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
